import"../chunks/Bzak7iHL.js";import{w as ne,o as z,a5 as He,y as Se,p as qe,l as Ye,g as v,J as Ge,q as Je,H as Xe,v as Be,x as le,F as Z,a6 as $e,a7 as Ze,z as _e,B as Qe,A as je,a8 as De,a9 as ea,m as aa,aa as Ce,ab as ra,C as Ie,D as ta,ac as sa,ad as de,ae as Le,af as ia,ag as na,ah as la,ai as da,aj as va,ak as oa,M as ca,Y as F,a1 as d,a3 as k,a2 as n,_ as Y,b as ve,e as oe,$ as S,a4 as L,al as ua,X as fa,am as _a,a as pa,a0 as ma,j as p,an as I,ao as Me,Z as Ne,ap as W,aq as ha}from"../chunks/CJRG0iQk.js";import{p as ce,i as Q}from"../chunks/DMsS8l3m.js";import"../chunks/B2rrT6zS.js";import"../chunks/B9EOWZ5k.js";function ba(r,a){return a}function ga(r,a,e){for(var t=r.items,u=[],f=a.length,o=0;o<f;o++)da(a[o].e,u,!0);var b=f>0&&u.length===0&&e!==null;if(b){var m=e.parentNode;va(m),m.append(e),t.clear(),R(r,a[0].prev,a[f-1].next)}oa(u,()=>{for(var g=0;g<f;g++){var P=a[g];b||(t.delete(P.k),R(r,P.prev,P.next)),Le(P.e,!b)}})}function wa(r,a,e,t,u,f=null){var o=r,b={flags:a,items:new Map,first:null};{var m=r;o=z?ne(He(m)):m.appendChild(Se())}z&&qe();var g=null,P=!1,A=new Map,l=Ge(()=>{var h=e();return ea(h)?h:h==null?[]:De(h)}),_,i;function c(){ya(i,_,b,A,o,u,a,t,e),f!==null&&(_.length===0?g?Ie(g):g=_e(()=>f(o)):g!==null&&ta(g,()=>{g=null}))}Ye(()=>{i??(i=ca),_=v(l);var h=_.length;if(P&&h===0)return;P=h===0;let B=!1;if(z){var C=Je(o)===Xe;C!==(h===0)&&(o=Be(),ne(o),le(!1),B=!0)}if(z){for(var w=null,T,s=0;s<h;s++){if(Z.nodeType===$e&&Z.data===Ze){o=Z,B=!0,le(!1);break}var y=_[s],x=t(y,s);T=pe(Z,b,w,null,y,x,s,u,a,e),b.items.set(x,T),w=T}h>0&&ne(Be())}if(z)h===0&&f&&(g=_e(()=>f(o)));else if(Qe()){var V=new Set,E=je;for(s=0;s<h;s+=1){y=_[s],x=t(y,s);var M=b.items.get(x)??A.get(x);M?Re(M,y,s):(T=pe(null,b,null,null,y,x,s,u,a,e,!0),A.set(x,T)),V.add(x)}for(const[N,D]of b.items)V.has(N)||E.skipped_effects.add(D.e);E.add_callback(c)}else c();B&&le(!0),v(l)}),z&&(o=Z)}function ya(r,a,e,t,u,f,o,b,m){var g=a.length,P=e.items,A=e.first,l=A,_,i=null,c=[],h=[],B,C,w,T;for(T=0;T<g;T+=1){if(B=a[T],C=b(B,T),w=P.get(C),w===void 0){var s=t.get(C);if(s!==void 0){t.delete(C),P.set(C,s);var y=i?i.next:l;R(e,i,s),R(e,s,y),ue(s,y,u),i=s}else{var x=l?l.e.nodes_start:u;i=pe(x,e,i,i===null?e.first:i.next,B,C,T,f,o,m)}P.set(C,i),c=[],h=[],l=i.next;continue}if(Re(w,B,T),(w.e.f&de)!==0&&Ie(w.e),w!==l){if(_!==void 0&&_.has(w)){if(c.length<h.length){var V=h[0],E;i=V.prev;var M=c[0],N=c[c.length-1];for(E=0;E<c.length;E+=1)ue(c[E],V,u);for(E=0;E<h.length;E+=1)_.delete(h[E]);R(e,M.prev,N.next),R(e,i,M),R(e,N,V),l=V,i=N,T-=1,c=[],h=[]}else _.delete(w),ue(w,l,u),R(e,w.prev,w.next),R(e,w,i===null?e.first:i.next),R(e,i,w),i=w;continue}for(c=[],h=[];l!==null&&l.k!==C;)(l.e.f&de)===0&&(_??(_=new Set)).add(l),h.push(l),l=l.next;if(l===null)continue;w=l}c.push(w),i=w,l=w.next}if(l!==null||_!==void 0){for(var D=_===void 0?[]:De(_);l!==null;)(l.e.f&de)===0&&D.push(l),l=l.next;var G=D.length;if(G>0){var X=g===0?u:null;ga(e,D,X)}}r.first=e.first&&e.first.e,r.last=i&&i.e;for(var O of t.values())Le(O.e);t.clear()}function Re(r,a,e,t){ra(r.v,a),r.i=e}function pe(r,a,e,t,u,f,o,b,m,g,P){var A=(m&ia)!==0,l=(m&na)===0,_=A?l?aa(u,!1,!1):Ce(u):u,i=(m&sa)===0?o:Ce(o),c={i,v:_,k:f,a:null,e:null,prev:e,next:t};try{if(r===null){var h=document.createDocumentFragment();h.append(r=Se())}return c.e=_e(()=>b(r,_,i,g),z),c.e.prev=e&&e.e,c.e.next=t&&t.e,e===null?P||(a.first=c):(e.next=c,e.e.next=c.e),t!==null&&(t.prev=c,t.e.prev=c.e),c}finally{}}function ue(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,u=a?a.e.nodes_start:e,f=r.e.nodes_start;f!==null&&f!==t;){var o=la(f);u.before(f),f=o}}function R(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function ka(r,a,e){var t=r==null?"":""+r;return t===""?null:t}function fe(r,a,e,t,u,f){var o=r.__className;if(z||o!==e||o===void 0){var b=ka(e);(!z||b!==r.getAttribute("class"))&&(b==null?r.removeAttribute("class"):r.className=b),r.__className=e}return f}var xa=F("<p> </p>"),Pa=F('<div class="loading-container"><div class="loading-spinner-wrapper"><div></div> <div></div></div> <!></div>');function Ta(r,a){let e=ce(a,"size",8,"md"),t=ce(a,"message",8,"Loading..."),u=ce(a,"showMessage",8,!0);const f={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"},o={sm:"text-sm",md:"text-base",lg:"text-lg"};var b=Pa(),m=d(b),g=d(m),P=k(g,2);n(m);var A=k(m,2);{var l=_=>{var i=xa(),c=d(i,!0);n(i),Y(()=>{fe(i,1,`loading-message ${oe(e()),ve(()=>o[e()])??""}`),L(c,t())}),S(_,i)};Q(A,_=>{u()&&_(l)})}n(b),Y(()=>{fe(g,1,`loading-spinner ${oe(e()),ve(()=>f[e()])??""}`),fe(P,1,`loading-pulse-ring ${oe(e()),ve(()=>f[e()])??""}`)}),S(r,b)}var Aa=F('<div class="loading-screen"><!></div>'),Ea=F('<div class="error-container"><div class="error-card"><div class="error-icon">‚ö†Ô∏è</div> <h2 class="error-title">Oops!</h2> <p class="error-message"> </p> <p class="error-hint">Try opening this in Telegram</p></div></div>'),Ba=F('<div class="user-welcome"><span class="welcome-text">Welcome back,</span> <span class="user-name"> </span></div>'),Ca=(r,a,e)=>{p(a,"events"),p(e,"list")},Ma=(r,a,e)=>{p(a,"venues"),p(e,"list")},Na=(r,a,e)=>{p(a,"brands"),p(e,"list")},Sa=(r,a,e)=>a(v(e).id),Da=F('<button class="featured-card"><div class="featured-badge">Featured</div> <h4 class="featured-title"> </h4> <p class="featured-venue"> </p> <p class="featured-price"> </p></button>'),Ia=F('<div class="main-container animate-fade-in"><div class="hero-section"><div class="hero-content"><h1 class="hero-title"><span class="gradient-text">üç∫ Trojeak</span></h1> <p class="hero-subtitle">Discover events and pre-order drinks</p> <!></div> <div class="hero-glow"></div></div> <div class="nav-grid"><button class="nav-card animate-slide-up" style="animation-delay: 0.1s"><div class="nav-card-icon">üéâ</div> <div class="nav-card-content"><h3 class="nav-card-title">Events</h3> <p class="nav-card-description">Browse upcoming events and parties</p> <div class="nav-card-stats"><span class="stats-number"> </span> <span class="stats-label">events available</span></div></div> <div class="nav-card-arrow">‚Üí</div></button> <button class="nav-card animate-slide-up" style="animation-delay: 0.2s"><div class="nav-card-icon">üè¢</div> <div class="nav-card-content"><h3 class="nav-card-title">Venues</h3> <p class="nav-card-description">Discover bars, KTVs, and clubs</p> <div class="nav-card-stats"><span class="stats-number"> </span> <span class="stats-label">venues available</span></div></div> <div class="nav-card-arrow">‚Üí</div></button> <button class="nav-card animate-slide-up" style="animation-delay: 0.3s"><div class="nav-card-icon">ü•É</div> <div class="nav-card-content"><h3 class="nav-card-title">Brands</h3> <p class="nav-card-description">Explore drink brands and promotions</p> <div class="nav-card-stats"><span class="stats-number"> </span> <span class="stats-label">brands available</span></div></div> <div class="nav-card-arrow">‚Üí</div></button></div> <div class="featured-section animate-slide-up" style="animation-delay: 0.4s"><h2 class="section-title"><span class="gradient-text">‚ú® Featured Tonight</span></h2> <div class="featured-grid"></div></div></div>'),La=F('<div class="content-container"><h2 class="page-title gradient-text"> </h2> <p class="page-subtitle">Coming soon with the new design system!</p></div>'),Ra=F('<main style="min-height: 100vh;"><!></main>');function Ka(r,a){fa(a,!0);let e=I("main"),t=I("list"),u=I(null),f=I(null),o=I(null),b="all",m=I(null),g=I(null),P=I(!1),A=I(null),l=I(!0);const _={events:[{id:"evt_001",title:"Friday Night Party",venue_id:"ven_001",venue_name:"Sky Bar Phnom Penh",city:"Phnom Penh",featured:!0,brands:["brd_001","brd_003"],price_range:"$15-25",date:"2025-08-22",description:"Ultimate rooftop party with city views and premium cocktails."},{id:"evt_002",title:"Karaoke Night Special",venue_id:"ven_002",venue_name:"Golden KTV",city:"Phnom Penh",featured:!1,brands:["brd_002","brd_004"],price_range:"$10-20",date:"2025-08-23",description:"Private rooms with premium sound system and drink promotions."},{id:"evt_003",title:"Weekend Beach Club",venue_id:"ven_003",venue_name:"Otres Beach Club",city:"Sihanoukville",featured:!0,brands:["brd_001","brd_005"],price_range:"$12-22",date:"2025-08-24",description:"Beachfront party with live DJ and tropical cocktails."},{id:"evt_004",title:"Craft Beer Festival",venue_id:"ven_004",venue_name:"Embargo Bar",city:"Siem Reap",featured:!1,brands:["brd_002","brd_006"],price_range:"$8-18",date:"2025-08-25",description:"Local and international craft beers with food pairings."},{id:"evt_005",title:"Latin Night",venue_id:"ven_005",venue_name:"Pontoon Club",city:"Phnom Penh",featured:!0,brands:["brd_003","brd_007"],price_range:"$18-30",date:"2025-08-26",description:"Salsa dancing with authentic Latin cocktails and live music."}],venues:[{id:"ven_001",name:"Sky Bar Phnom Penh",type:"bar",city:"Phnom Penh",address:"Riverside, Central Phnom Penh",featured:!0,description:"Premium rooftop bar with panoramic city views and signature cocktails."},{id:"ven_002",name:"Golden KTV",type:"ktv",city:"Phnom Penh",address:"BKK1, Phnom Penh",featured:!1,description:"Luxury karaoke with private rooms and premium sound systems."}],brands:[{id:"brd_001",name:"Anchor Beer",type:"beer",featured:!0,description:"Cambodia's premium lager beer"},{id:"brd_002",name:"Absolut Vodka",type:"spirits",featured:!1,description:"Premium Swedish vodka"}]},i=ha(()=>_.events.filter(s=>b==="all").sort((s,y)=>(y.featured?1:0)-(s.featured?1:0)));function c(){v(e)==="booking"?v(u)?(p(e,"events"),p(t,"detail")):p(e,"main"):v(t)==="detail"?(p(t,"list"),p(u,null),p(f,null),p(o,null)):v(e)!=="main"&&(p(e,"main"),p(t,"list"))}function h(s){p(u,s,!0),p(t,"detail")}_a(()=>{if(setTimeout(()=>{p(l,!1)},1500),typeof window<"u"){const s=window.location.pathname;s!=="/"&&!s.startsWith("/app/")&&window.history.replaceState({},"","/");const x=new URLSearchParams(window.location.search).get("start");x==="events"?p(e,"events"):x==="venues"?p(e,"venues"):x==="brands"&&p(e,"brands")}try{typeof window<"u"&&window.Telegram?.WebApp?(p(m,window.Telegram.WebApp,!0),v(m).ready(),v(m).expand(),v(m).initDataUnsafe?.user&&p(g,v(m).initDataUnsafe.user,!0),v(m).BackButton.onClick(c),p(P,!0)):p(A,"Telegram WebApp not available. Open this in Telegram.")}catch(s){p(A,"Failed to initialize Telegram WebApp"),console.error("WebApp initialization error:",s)}}),pa(()=>{v(m)&&(v(e)!=="main"||v(t)==="detail"?v(m).BackButton.show():v(m).BackButton.hide())});var B=Ra(),C=d(B);{var w=s=>{var y=Aa(),x=d(y);Ta(x,{size:"lg",message:"Welcome to Trojeak"}),n(y),S(s,y)},T=s=>{var y=Me(),x=Ne(y);{var V=M=>{var N=Ea(),D=d(N),G=k(d(D),4),X=d(G,!0);n(G),W(2),n(D),n(N),Y(()=>L(X,v(A))),S(M,N)},E=M=>{var N=Me(),D=Ne(N);{var G=O=>{var U=Ia(),J=d(U),j=d(J),re=k(d(j),4);{var Ve=H=>{var K=Ba(),q=k(d(K),2),$=d(q);n(q),n(K),Y(()=>L($,`${v(g).first_name??""}!`)),S(H,K)};Q(re,H=>{v(g)&&H(Ve)})}n(j),W(2),n(J);var te=k(J,2),ee=d(te);ee.__click=[Ca,e,t];var me=k(d(ee),2),he=k(d(me),4),be=d(he),We=d(be,!0);n(be),W(2),n(he),n(me),W(2),n(ee);var ae=k(ee,2);ae.__click=[Ma,e,t];var ge=k(d(ae),2),we=k(d(ge),4),ye=d(we),ze=d(ye,!0);n(ye),W(2),n(we),n(ge),W(2),n(ae);var se=k(ae,2);se.__click=[Na,e,t];var ke=k(d(se),2),xe=k(d(ke),4),Pe=d(xe),Fe=d(Pe,!0);n(Pe),W(2),n(xe),n(ke),W(2),n(se),n(te);var Te=k(te,2),Ae=k(d(Te),2);wa(Ae,21,()=>v(i).filter(H=>H.featured).slice(0,2),ba,(H,K)=>{var q=Da();q.__click=[Sa,h,K];var $=k(d(q),2),Oe=d($,!0);n($);var ie=k($,2),Ke=d(ie,!0);n(ie);var Ee=k(ie,2),Ue=d(Ee,!0);n(Ee),n(q),Y(()=>{L(Oe,v(K).title),L(Ke,v(K).venue_name),L(Ue,v(K).price_range)}),S(H,q)}),n(Ae),n(Te),n(U),Y(()=>{L(We,v(i).length),L(ze,_.venues.length),L(Fe,_.brands.length)}),S(O,U)},X=O=>{var U=La(),J=d(U),j=d(J,!0);n(J),W(2),n(U),Y(re=>L(j,re),[()=>v(e).charAt(0).toUpperCase()+v(e).slice(1)]),S(O,U)};Q(D,O=>{v(e)==="main"?O(G):O(X,!1)},!0)}S(M,N)};Q(x,M=>{v(A)?M(V):M(E,!1)},!0)}S(s,y)};Q(C,s=>{v(l)?s(w):s(T,!1)})}n(B),S(r,B),ma()}ua(["click"]);export{Ka as component};
