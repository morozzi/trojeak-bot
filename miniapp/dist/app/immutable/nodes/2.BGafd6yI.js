import"../chunks/Bzak7iHL.js";import{i as $}from"../chunks/dpAlymxR.js";import{l as G,o as J,u as p,v as y,q as r,t as L,w as d,x as u,y as e,z as Q,A as i,B as t,C as l,D as S,F as f,m as V,n as X}from"../chunks/CtymN7vg.js";import{i as _}from"../chunks/CwW8eTQw.js";import"../chunks/CSP8VDTr.js";var Y=p('<div class="error svelte-1ge98yj"><p class="svelte-1ge98yj"> </p> <p class="hint svelte-1ge98yj">Try opening this in Telegram</p></div>'),Z=p('<div class="loading svelte-1ge98yj"><p class="svelte-1ge98yj">🔄 Initializing...</p></div>'),ee=p('<p class="svelte-1ge98yj"><strong>Username:</strong> </p>'),se=p('<div class="user-info svelte-1ge98yj"><p class="svelte-1ge98yj"><strong>User:</strong> </p> <!></div>'),ae=p('<div class="success svelte-1ge98yj"><p class="svelte-1ge98yj">✅ Telegram WebApp Ready!</p> <!></div>'),te=p('<main class="container svelte-1ge98yj"><div class="header svelte-1ge98yj"><h1 class="svelte-1ge98yj">🍺 Hello Trojeak!</h1> <p class="subtitle svelte-1ge98yj">Mini app working perfectly!</p></div> <div class="status svelte-1ge98yj"><!></div> <div class="info svelte-1ge98yj"><h3 class="svelte-1ge98yj">🚀 App Status</h3> <ul class="svelte-1ge98yj"><li class="svelte-1ge98yj">✅ SvelteKit: Working</li> <li class="svelte-1ge98yj">✅ TypeScript: Enabled</li> <li class="svelte-1ge98yj"> </li> <li class="svelte-1ge98yj">✅ Build System: Functional</li></ul></div> <div class="next-steps svelte-1ge98yj"><h3 class="svelte-1ge98yj">📋 Next Steps</h3> <p class="svelte-1ge98yj">Ready for Phase 2 API development!</p></div></main>');function ve(U,C){G(C,!1);let s=u(null),k=u(!1),n=u(null),g=u(null);J(()=>{if(typeof window<"u"){const a=window.location.pathname;a!=="/"&&!a.startsWith("/app/")&&window.history.replaceState({},"","/")}try{typeof window<"u"&&window.Telegram?.WebApp?(d(s,window.Telegram.WebApp),e(s).ready(),e(s).expand(),e(s).initDataUnsafe?.user&&d(n,e(s).initDataUnsafe.user),Q(s,e(s).MainButton.text="Close App"),e(s).MainButton.show(),e(s).MainButton.onClick(()=>{e(s).close()}),d(k,!0),console.log("✅ Telegram WebApp initialized successfully")):(d(g,"Telegram WebApp not available. Open this in Telegram."),console.warn("⚠️ Not running in Telegram environment"))}catch(a){d(g,"Failed to initialize Telegram WebApp"),console.error("❌ WebApp initialization error:",a)}}),$();var j=te(),h=i(t(j),2),D=t(h);{var F=a=>{var o=Y(),m=t(o),w=t(m);l(m),S(2),l(o),y(()=>f(w,`⚠️ ${e(g)??""}`)),r(a,o)},I=a=>{var o=V(),m=X(o);{var w=v=>{var c=Z();r(v,c)},R=v=>{var c=ae(),K=i(t(c),2);{var P=b=>{var A=se(),T=t(A),q=i(t(T));l(T);var E=i(T,2);{var H=x=>{var W=ee(),O=i(t(W));l(W),y(()=>f(O,` @${e(n).username??""}`)),r(x,W)};_(E,x=>{e(n).username&&x(H)})}l(A),y(()=>f(q,` ${e(n).first_name??""} ${(e(n).last_name||"")??""}`)),r(b,A)};_(K,b=>{e(n)&&b(P)})}l(c),r(v,c)};_(m,v=>{e(k)?v(R,!1):v(w)},!0)}r(a,o)};_(D,a=>{e(g)?a(F):a(I,!1)})}l(h);var z=i(h,2),B=i(t(z),2),M=i(t(B),4),N=t(M);l(M),S(2),l(B),l(z),S(2),l(j),y(()=>f(N,`✅ Telegram SDK: ${e(s)?"Connected":"Not Available"}`)),r(U,j),L()}export{ve as component};
